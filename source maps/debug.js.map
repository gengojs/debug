{"version":3,"sources":["debug.js"],"names":[],"mappings":"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","file":"debug.js","sourcesContent":["'use strict';\n\nimport 'source-map-support/register';\nimport colors from 'colors/safe';\nimport Parser from './parser';\nimport maps from './maps/color';\nimport ansi from 'ansi-256-colors';\nimport selectColor from './utils';\n\n/**\n * This class wraps debug and creates an API\n * @class\n */\nclass Debug extends Parser {\n  /**\n   * Constructs an instance of Debug\n   * @param  {String} app        The name of the app.\n   * @param  {String} namespace  The current namespace.\n   * @param  {Array} namespaces The namespaces to support.\n   * @param  {Array} levels     The levels to support.\n   * @return {Debug}            Returns an instance of debug.\n   */\n  constructor(app, namespaces) {\n    super(process.env.DEBUG);\n    this.app = app;\n    this.map = new Map();\n    this.stacks = {\n      namespaces,\n      levels: Object.keys(maps.levels)\n    };\n    console.log(selectColor());\n  }\n  setNameSpace(namespace) {\n    this.namespace = namespace;\n\n    if (!this.map.has(namespace))\n      this.map.set(namespace, selectColor().toString());\n\n    this.colors = colors;\n    this.colors.setTheme(maps.levels);\n\n    this.build();\n    return this;\n  }\n  console(key) {\n    var obj = {};\n    this.stacks.namespaces.forEach(namespace => {\n      this.stacks.levels.map(level => level.toLowerCase()).forEach(level => {\n        var key = this.app + '.' + namespace + ':' + level;\n        obj[key] = (() => {\n          if (\n            this.hasLevel(this.app + '.' + this.namespace) ||\n            this.hasLevel('*') ||\n            this.hasLevel(this.app + '.' + this.namespace + ':' + level))\n            return console.log.bind(console);\n          else return () => {};\n        })();\n      });\n    });\n    return obj[key];\n  }\n\n  build() {\n      this.stacks.levels.forEach((level) => {\n        this[level] = (...args) => {\n          var\n            namespace = this.app + '.' + this.namespace.toLowerCase(),\n            pos = parseInt(this.map.get(this.namespace)),\n            color = ansi.fg.standard[pos];\n          args.unshift(color + namespace + ':' + this.colors[level](level));\n          this.console(namespace + ':' + level).apply(null, args);\n          return this;\n        };\n      });\n    }\n    /**\n     * Outputs a log statement\n     * @return {Debug} The context of Debug.\n     */\n  log(...args) {\n    args.unshift(this.app + '.' + this.namespace.toLowerCase() + ':');\n    console.log.apply(console, args);\n    return this;\n  }\n}\n/**\n * @module Debug\n */\nexport default Debug;"],"sourceRoot":"/source/"}